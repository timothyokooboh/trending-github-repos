(function(e){function t(t){for(var n,i,c=t[0],s=t[1],u=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/trending-github-repos/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function o(e,t,r,o,a,i){var c=Object(n["l"])("the-header"),s=Object(n["l"])("trending-repos-list");return Object(n["i"])(),Object(n["d"])("div",null,[Object(n["f"])(c),Object(n["f"])(s)])}var a=r("6324"),i=r.n(a),c={ref:"scrollComponent",class:"mt-20"},s={key:0,class:"flex justify-center"},u=Object(n["f"])("img",{src:i.a,class:"h-12"},null,-1);function l(e,t,r,o,a,i){var l=Object(n["l"])("trending-repos-list-item");return Object(n["i"])(),Object(n["d"])("div",c,[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["k"])(o.trendingRepos,(function(e,t){return Object(n["i"])(),Object(n["d"])(l,{key:e.id,ownerAvatar:e.ownerAvatar,ownerName:e.ownerName,repoName:e.repoName,repoDescription:e.repoDescription,starsCount:e.starsCount,issuesCount:e.issuesCount,createdAt:e.createdAt,url:e.url,index:t},null,8,["ownerAvatar","ownerName","repoName","repoDescription","starsCount","issuesCount","createdAt","url","index"])})),128)),o.loading?(Object(n["i"])(),Object(n["d"])("div",s,[u])):Object(n["e"])("",!0)],512)}var d={key:0,class:"flex justify-end absolute top-o right-10"},p=Object(n["f"])("div",{class:"inline-block bg-blue-100 text-blue-900 py-1 px-2 rounded text-xs"},"Visit repo",-1),b={class:"md:flex items-center"},f={class:"mr-8 mb-2"},v={class:"mt-2"},m={class:"font-bold capitalize mb-3"},j={class:"mb-3"},g={class:"flex flex-wrap items-center mb-2"},O={class:"text-sm py-1 px-2 rounded mr-2 border border-green-300 text-green-600 hover:bg-green-200"},h={class:"text-sm py-1 px-2 rounded border border-red-300 text-red-600 hover:bg-red-200"},w={class:"text-sm italic"};function y(e,t,r,o,a,i){return Object(n["i"])(),Object(n["d"])("div",{class:["py-4 px-8 font-sans text-gray-900 rounded shadow m-4 relative",{"bg-gray-100":o.isEven}],onMouseover:t[1]||(t[1]=function(e){return o.showLabel=!0}),onMouseleave:t[2]||(t[2]=function(e){return o.showLabel=!1})},[Object(n["f"])("a",{href:r.url,target:"_blank",class:"no-underline"},[o.showLabel?(Object(n["i"])(),Object(n["d"])("div",d,[p])):Object(n["e"])("",!0),Object(n["f"])("div",b,[Object(n["f"])("div",f,[Object(n["f"])("img",{src:r.ownerAvatar,alt:"owner avatar",class:"h-16 w-16 md:h-28 md:w-28 rounded-full shadow"},null,8,["src"])]),Object(n["f"])("div",v,[Object(n["f"])("div",m,Object(n["m"])(r.repoName),1),Object(n["f"])("div",j,Object(n["m"])(r.repoDescription),1),Object(n["f"])("div",g,[Object(n["f"])("div",O,"Stars: "+Object(n["m"])(r.starsCount),1),Object(n["f"])("div",h,"Issues: "+Object(n["m"])(r.issuesCount),1)]),Object(n["f"])("div",w,"Submited "+Object(n["m"])(o.daysFormatter)+" ago by "+Object(n["m"])(r.ownerName),1)])])],8,["href"])],34)}r("a9e3");function x(e){var t=new Date,r=t.getTime()-new Date(e.value).getTime(),o=r/864e5,a=Object(n["b"])((function(){return o<365?o+" days":o>=365&&o<729?"Over 1 year":o>=730?"Over 2 years":""}));return{daysFormatter:a}}var C={name:"TrendingReposListItem",props:{ownerAvatar:{type:String,default:"hi"},ownerName:{type:String,default:""},repoName:{type:String,default:""},repoDescription:{type:String,default:""},starsCount:{type:Number,default:0},issuesCount:{type:Number,default:0},createdAt:{type:String,default:""},url:{type:String,default:""},index:{type:Number,default:0}},setup:function(e){var t=Object(n["n"])(e),r=t.index,o=t.createdAt,a=Object(n["j"])(!1),i=Object(n["b"])((function(){return r.value%2})),c=x(o),s=c.daysFormatter;return{isEven:i,showLabel:a,daysFormatter:s}}};C.render=y;var R=C,N=r("1da1"),T=(r("96cf"),r("3d20")),S=r.n(T),A=r("d4ec"),_=r("bee2"),k=r("bc3a"),L=r.n(k),D=L.a.create({baseURL:"https://api.github.com",headers:{"Content-type":"application/json"}}),P=function(){function e(){Object(A["a"])(this,e)}return Object(_["a"])(e,[{key:"getTrendingRepos",value:function(e){return D.get("/search/repositories?q=created:>2017-10-22&sort=stars&order=desc&page=".concat(e))}}]),e}(),M=new P;function E(){var e=Object(n["j"])(1),t=Object(n["j"])([]),r=Object(n["j"])(!0),o=function(){var n=Object(N["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.value=!0,n.prev=1,n.next=4,M.getTrendingRepos(e.value);case 4:o=n.sent,e.value+=1,t.value=o.data.items,r.value=!1,t.value.length||(S.a.fire({text:"No more results",showConfirmButton:!1}),setTimeout((function(){S.a.close()}),3e3)),n.next=16;break;case 11:n.prev=11,n.t0=n["catch"](1),r.value=!1,S.a.fire({title:"Error!",text:"Failed to load data. Wait a few seconds and refresh the page",icon:"error",showConfirmButton:!1}),setTimeout((function(){S.a.close()}),3e3);case 16:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}();return{infiniteHandler:o,apiResult:t,pageNumber:e,loading:r}}var F=r("2909");r("d81d"),r("a4d3"),r("e01a"),r("b0c0"),r("99af");function H(e){var t=Object(n["j"])([]),r=function(){var r=e.value.map((function(e){return{id:e.id,ownerAvatar:e.owner.avatar_url,ownerName:e.owner.login,repoDescription:e.description,repoName:e.name,starsCount:e.stargazers_count,issuesCount:e.open_issues_count,createdAt:e.created_at,url:e.html_url}}));t.value=[].concat(Object(F["a"])(t.value),Object(F["a"])(r))};return{updateTrendingRepos:r,trendingRepos:t}}function z(e,t){var r=Object(n["j"])(null),o=function(){var n=r.value;n.getBoundingClientRect().bottom<window.innerHeight&&e().then((function(){t()}))};return{handleScroll:o,scrollComponent:r}}var B={name:"TrendingReposList",components:{TrendingReposListItem:R},setup:function(){var e=E(),t=e.infiniteHandler,r=e.apiResult,o=e.loading,a=H(r),i=a.updateTrendingRepos,c=a.trendingRepos,s=z(t,i),u=s.handleScroll,l=s.scrollComponent;return t().then((function(){i()})),Object(n["g"])((function(){window.addEventListener("scroll",u)})),Object(n["h"])((function(){window.removeEventListener("scroll",u)})),{trendingRepos:c,scrollComponent:l,loading:o}}};B.render=l;var I=B,J={class:"shadow-lg h-16 z-10 w-screen flex items-center px-4 bg-blue-800 text-blue-100 font-bold fixed top-0"},q=Object(n["f"])("div",null,"Trending Github Repos",-1);function G(e,t,r,o,a,i){return Object(n["i"])(),Object(n["d"])("div",J,[q])}var U={name:"TheHeader"};U.render=G;var V=U,W={name:"App",components:{TrendingReposList:I,TheHeader:V}};W.render=o;var K=W,Q=(r("a766"),Object(n["c"])(K));Q.mount("#app")},6324:function(e,t,r){e.exports=r.p+"img/spinner.1cb5efcf.gif"},a766:function(e,t,r){}});
//# sourceMappingURL=app.b9de14b3.js.map